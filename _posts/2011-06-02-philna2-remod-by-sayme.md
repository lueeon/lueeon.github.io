---
layout: post
title: PhilNa2-自说Me话扩展版
pid: 160
comments: true
tags: [PhilNa2, Themes, WordPress, 原创]
categories: [WordPress]
---
经过我好长时间的鼓捣,终于弄的差不多了.由于马上就要考试了,端午回来后还有好多测试之类的东西.所以端午期间要好好学习,没时间修改了,所以把改的差不多的主题分享给大家.

**由于我不会制作Demo,所以暂时将我的主题换回PhilNa2主题给大家做示范.您看到的所有功能,在共享的主题中都有**

本来想学着在后台添加选项的,但是由于时间仓促,也只好作罢.
这里面肯定有我没有想起来要修改的地方,如果发现什么问题,请马上反馈给我,方便我及时修改,谢谢.

乍一看,确实和原来的PhilNa2主题一模一样,对的.因为我比较喜欢这个主题的风格,所以也没有对风格下手,另一个原因就是,我对风格方面能力不行,怕糟蹋了这个主题.因此我尽量保持和原主题风格一致.
但是内在的东西.我确实增加了不少,待会就告诉大家.
我可耻的在页脚处留了一个我的链接.不知道大家是否感到反感 :???: 大家可保留否? :love:  :love:

FAQ开始吧,(不知道可否叫FAQ)

***
我先后使用的PhilNa2的首页一共有两种样式,(我现在用的是Ajax加载样式)
一种是**文章收缩**样式的,一种是**Ajax加载**样式的,所以我分开整理,提供两个样式的.想使用哪个直接上传到服务器就OK了.

**另外还想说一句,建议将后台侧边栏小工具全部去掉.使用主题自带的就好.**

否则会造成内容重复

**1, 需要您修改的地方**

1.1 app/comment.php中修改 管理员邮箱为你的邮箱,这样可以在评论中显示"Admin"标志  
1.2 修改app/relateposts.php中的feed版权内容为你的博客标题以及网址(当然你不修改也没有问题.嘿嘿)  
1.3 页脚地方的博客成立时间,将2011-3-24改为你博客成立的时间,显示博客共运行多少天  
1.4 sidebar.php文件中的友情链接ID.你需要改成你博客中对应的目录ID,具体ID信息,请看后台链接里面的**链接分类目录**   ,将鼠标放在目录名称上边,浏览器下部的一串链接中的那个tag\_ID就是要找的ID 信息,将你不想在首页显示的分类目录的ID填写到sidebar中的那个exclude\_category后面就行了.**记住是填写不想在首页显示的分类ID!!**

**2,添加的主要功能(借鉴的人太多.这里就不再一一列出,对所有人表示感谢)**

2.1 willinkan 大师的Anti Spam小墙,因此不推荐使用Akismet插件,另一个原因是PhilNa2主题使用此插件会出现每次评论都审核的问题.  
2.2 Some chinese please检查功能,并在评论框下方给予提示.因此不推荐再使用此插件  
2.3 Mini pagenavi翻页功能.已为wp-pagenavi插件预留接口,使用wp-pagenavi插件后会自动启用插件样式.  
2.4 utf8-excerpt摘要,不需要more标签,自动在首页截断,保留摘要格式.有more标签时显示more标签之前内容  
2.5 gravatar-cache 头像缓存,已为朋友们留了开关,可以使用,可以不使用.默认为非启用.  
2.6 短代码调用Mp3播放器,后台HTML编辑器模式提供快速添加按钮 效果如下  
[mp3 auto=0]http[/mp3]
2.7 后台编辑器添加表情,方便即时插入表情.  
2.8 随便看看,获取随机一篇文章.  
2.9 文章内容toggle伸缩,后台HMML编辑器模式提供快速添加按钮效果如下  
[toggle ]默认标题[/toggle]  
[toggle title="想要看看吗?"]自定义标题[/toggle]  
2.10 wp-syntax代码框自动Toggle伸缩 效果如下  
    
    html{font-size:200px;}
2.11 访客欢迎信息.见博客右上角.多次只访问不留言者给予提示  
2.12 wordpress登录失败邮件提醒  
2.13 首页Ajax加载文章内容或者文章伸缩  
2.14 自动在文章结尾和feed中添加版权(非PhilNa2后台设置内容,请勿在后台重复设置)  
2.15 slimbox图片灯箱效果,Ajax翻页后仍然有效 效果请点击下图(随便找了一张服务器上的图,哈哈)  

![](/uploads/2011/05/13_01.png)

2.16 图片Lazyload效果,理论上Ajax翻页后依旧有效  
2.17 文章末尾自带社会化分享工具(由于Ajax翻页后,分享的内容为未翻页之前的内容,因此翻页后使之失效)  
2.18 侧边栏滑动导航  
2.19 评论框,搜索框自动获取焦点,评论框上方添加简单富文本编辑器,评论字数实时统计  
2.20 文章页点击评论头像快捷回复  
2.21 文章页字体大小实时调整.理论上无限增大字体,  
2.22 侧边栏tab切换显示 最近评论|最新文章|随机文章 (最新文章和随机文章函数已分离,可以单独调用,Recentposts()和Randomposts() )  
2.23 主题内置表情  
2.24 添加自定义导航菜单支持,使用方法 后台-&gt;菜单  
2.25 淡入淡出隐藏侧边栏,cookie记录用户行为  
2.26 .....

3,集成的页面

3.1 新增留言板读者墙页面(请修改message.php中的管理员邮箱为您的邮箱)  
3.2 新增友情链接页面模板  
3.3 新增归档页面模板   
3.4 新增google自定义搜索结果页面模板   
3.5 新增page.php页面模板,去除原主题include_once loop.php语句,以后新建页面模板时只需复制此文件进行相应改造即可    
3.6 联系页面模板未修改,请自己看着办.应该大部分用不到,搞不好会造成邮件垃圾

**4,使用注意**

4.1 google自定义搜索问题.    
如须使用google自定义搜索,请在后台添加页面,选择"**google搜索结果页面**"模板,并将此模板的地址设为cse,比如我的网址为**http://isayme.com**.则google自定义搜索结果页面的链接为**http://isayme.com/cse** 切记!!  
然后在philna2后台设置中选择使用google自定义搜索,并填写你申请到的Key号,然后保存设置即可

4.2 avatar头像缓存问题.    
如需使用头像缓存,请先在wp-content目录建立**avatar**文件夹,并设置此文件夹权限为777,文件夹中放置一张**default.jpg**.然后请前往**custom-functions/gavatar-cache.php**中设置**$cacheswitch**值为1即可.  
不想使用的时候直接设置$cacheswitch值为0

4.3 标题文字改变内容问题.    
文章收缩或者Ajax加载首页文章,想要改变标题点击后变成的文字,请前往**app/javascript.php**文件,按照说明进行更改即可  
LoadText为标题变成的内容  
AjaxLoading为Ajax加载内容时的等待提示(文章收缩用户可以无视)  
顺便将**blogName** 改为你的博客标题,有用处

4.4 /js文件夹里面的Myjs.js文件,请把你的js function放在此文件中,主题会自动加载

**5,推荐插件**    
5.1 mail to comemnt 插件.基本上只需要这个就够了.   
5.2 wp-syntax 不贴代码者请无视

**6, 不推荐插件**

6.1 Akismet插件,貌似此插件会与主题有冲突,使所有的评论都要审核.主题中已经集成了some please please检查以及Anti Spam小墙,请放心停用插件   
6.2 wp-pagenavi插件, 主题已经集成了翻页函数.当然如果对默认样式不满意,使用wp-pagenavi插件也可以,主题已经预留了判断,开启wp-pagenavi后自动使用wp-pagenavi样式    
6.3 貌似没有了,我一共没用过几个插件

如果要使用wp-syntax插件的话,推荐使用我按照网上修改完的,可以提示语言类型.
mail to comment插件也是,简化版,我一直在用.据邓肯http://dengken.name童鞋说,貌似后台安装的mail to comment插件会无效果

****
**下载:**(请不要多次下载,小站流量有限)  
<del datetime="2011-06-02T14:20:11+00:00">Ajax加载版 点击此处下载</del>
<del datetime="2011-06-02T14:20:11+00:00">文章收缩版 点击此处下载</del>

**22:20更新**,修复原主题 AJAX提交评论后,新返回的数据@链接鼠标悬浮显示无效的问题  
<del datetime="2011-06-16T15:59:45+00:00">Ajax加载版 点击此处下载
文章收缩版 点击此处下载</del>

注: 已经更新 版本,请前往最新地址下载

**注:**原主题版权归原作者[yinheli](http://philna.com)所有,请按照原作者的说明,保持开源
可以提取其中的功能,但是不要拿去做商业用途.切记!!!

**另外,如果有人问你关于这个扩展版主题的话,别忘记 好好夸奖一下我哦** :lol:  :eek:

文中提到的mail to commet插件以及wp-syntax插件(都是已经修改过的,请用的到的下载,否则不要浪费俺滴流量~~ :love: )

wp-syntax 点击[此处](/uploads/2011/06/wp-syntax.zip)下载

mail to comment 点击[此处](/2011/03/6-how-a-reply-notification-email.html)查看
